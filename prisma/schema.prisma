// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Usuarios {
  id        String @id @default(uuid())
  nome      String
  sobrenome String
  telefone  String
  email     String @unique
  senha     String
  status    Int    @default(1)
}

enum perfil_empresarial {
  instituicao_publica
  eco_friendly
  inclusao_social
  restauracao_ambiental
}

model Instituicoes {
  id                 String             @id @default(uuid())
  razao_social       String
  descricao          String
  imagem             String
  perfil_empresarial perfil_empresarial
  email              String             @unique
  senha              String
  status             Int                @default(1)
  Eventos            Eventos[]
}

model Enderecos {
  id     String @id @default(uuid())
  rua    String
  numero String
  bairro String
  cidade String
  estado String
  cep    String
  status Int    @default(1)

  id_ponto_cultural String?
  id_evento         String?

  PontosCulturais PontosCulturais[]
  Eventos         Eventos[]
}

model PontosCulturais {
  id             String @id @default(uuid())
  nome           String
  importancia    String
  como_preservar String?
  referencia     String
  hora_inicio    String
  hora_fim       String
  imagem         String
  status         Int    @default(1)

  id_endereco String

  Endereco Enderecos @relation(fields: [id_endereco], references: [id])
}

model Eventos {
  id              String @id @default(uuid())
  nome            String
  descricao       String
  como_participar String
  data            String
  hora_inicio     String
  hora_fim        String
  imagem          String
  ingresso_social String
  status          Int    @default(1)

  id_endereco    String
  id_instituicao String

  Instituicao             Instituicoes              @relation(fields: [id_instituicao], references: [id])
  Endereco                Enderecos                 @relation(fields: [id_endereco], references: [id])
  sustentabilidadeXevento sustentabilidadeXevento[]
  acessibilidadeXevento   acessibilidadeXevento[]
}

model sustentabilidadeXevento {
  id                  String @id @default(uuid())
  id_sustentabilidade String
  id_evento           String

  Sustentabilidade pontos_sustentabilidade @relation(fields: [id_sustentabilidade], references: [id])
  Evento           Eventos                 @relation(fields: [id_evento], references: [id])
}

model pontos_sustentabilidade {
  id                      String                    @id @default(uuid())
  descricao               String
  sustentabilidadeXevento sustentabilidadeXevento[]
}

model acessibilidadeXevento {
  id                String @id @default(uuid())
  id_acessibilidade String
  id_evento         String

  Acessibilidade pontos_acessibilidade @relation(fields: [id_acessibilidade], references: [id])
  Evento         Eventos               @relation(fields: [id_evento], references: [id])
}

model pontos_acessibilidade {
  id                    String                  @id @default(uuid())
  descricao             String
  acessibilidadeXevento acessibilidadeXevento[]
}
